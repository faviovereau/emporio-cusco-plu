<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EMPORIO CUSCO SPA</title>

<style>
body{font-family:Arial,Helvetica,sans-serif;background:#eef2f5;margin:0}
.wrap{max-width:420px;margin:auto;padding:16px}
.card{
  background:linear-gradient(145deg, #7a1f2b, #5e1620);
  color:#fff;
  border-radius:18px;
  padding:18px;
  box-shadow:
    0 12px 24px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08);
}
h1{text-align:center;font-size:18px}
input{width:100%;padding:14px;border-radius:10px;border:1px solid #ccc;font-size:16px}
button{width:100%;padding:14px;border-radius:10px;border:0;background:#111;color:#fff;font-size:16px}
.item{
  @keyframes popIn{
  from{
    opacity:0;
    transform: scale(.96) translateY(6px);
  }
  to{
    opacity:1;
    transform: scale(1) translateY(0);
  }
}

.item{
  animation: popIn .18s ease-out;
}
  background:linear-gradient(145deg, #ffffff, #f1f1f1);
  color:#222;
  border-radius:14px;
  padding:14px;
  margin:12px 0;

  box-shadow:
    0 4px 10px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.8);

  transition: transform .15s ease, box-shadow .15s ease;
}

.item:active{
  transform: translateY(1px);
  box-shadow:
    0 2px 6px rgba(0,0,0,.22),
    inset 0 1px 0 rgba(255,255,255,.6);
}
.code{font-size:24px;font-weight:bold}
.name{font-size:20px}
.price{
  margin-top:6px;
  color:#222;        /* texto oscuro */
  font-size:18px;
  font-weight:500;
}
.small{font-size:13px;color:#777}
.hide{display:none} 
/* ===== MEJORAS VISUALES ===== */

.search-box{
  display:flex;
  align-items:center;
  background:linear-gradient(145deg, #ffffff, #e6e6e6);
  border-radius:16px;
  padding:14px 16px;
  margin-bottom:14px;

  /* 3D fuerte */
  box-shadow:
    0 8px 16px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.6);
  
  transform: translateY(-1px);
}

.search-box:focus-within{
  transform: translateY(-3px);
  box-shadow:
    0 12px 22px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.7);
}

.search-icon{
  font-size:20px;
  margin-right:12px;
  color:#7a1f2b;
}

.search-box input{
  border:0;
  outline:none;
  font-size:17px;
  width:100%;
  background:transparent;
  .empty-state{
  margin-top:30px;
  text-align:center;
  opacity:.85;
  transition: opacity .2s ease;
}

.empty-icon{
  font-size:36px;
  margin-bottom:10px;
  opacity:.9;
}

.empty-text{
  font-size:15px;
  letter-spacing:.3px;
  opacity:.9;
  .empty-state{
  margin-top:34px;
  text-align:center;
  opacity:.85;
}

.pos-icons{
  display:flex;
  justify-content:center;
  gap:26px;
  margin-bottom:14px;
}

.pos-icon{
  width:46px;
  height:46px;
  color:#f2c6cc; /* vino claro */
  opacity:.95;
}
</style>
</head>

<body>
<div class="wrap">

<div class="card" id="login">
<h1>EMPORIO CUSCO SPA</h1>
<input id="pwd" type="password" placeholder="Contrase침a">
<br><br>
<button onclick="auth()">Entrar</button>
</div>

<div class="card hide" id="app">
<h1>BUSCAR PLU</h1>
<div class="search-box">
  <div id="emptyState" class="empty-state">
  <div class="empty-icon">游댌</div>
  <div class="empty-text">Busca un producto o c칩digo</div>
</div>
  <span class="search-icon">游댌</span>
  <input id="q" placeholder="Buscar producto o c칩digo">
</div>
<div id="res"></div>
</div>
<div id="emptyState" class="empty-state">
  <div class="pos-icons">
    <!-- BALANZA -->
    <svg viewBox="0 0 24 24" class="pos-icon">
      <path d="M12 3v3M5 6h14M7 6l-3 6h6l-3-6zm10 0l-3 6h6l-3-6zM6 15h12v4H6z"
            fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>

    <!-- PC / POS -->
    <svg viewBox="0 0 24 24" class="pos-icon">
      <path d="M3 5h18v12H3zM8 21h8M12 17v4"
            fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <div class="empty-text">Sistema de b칰squeda PLU</div>
</div>
</div>

<script>
const PASSWORD = "admin2026@";
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQFNKacvGEXGdsn5IkcjYgdW8nBIM1UFZL5sjhxPa9JDJnn3DA962sjDaJ9bv1aGA/pub?gid=915072749&single=true&output=csv";

let DATA = [];

function norm(s){
  return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();
}

function auth(){
  if(document.getElementById("pwd").value === PASSWORD){
    document.getElementById("login").classList.add("hide");
    document.getElementById("app").classList.remove("hide");
  } else {
    alert("Contrase침a incorrecta");
  }
}

fetch(CSV_URL)
.then(r => r.text())
.then(text => {
  const lines = text.trim().split("\n").map(l => l.split(","));
  const headers = lines.shift();

  DATA = lines.map(row => {
  let o = {};
  headers.forEach((h,i)=>o[h.trim()] = row[i]);
  return {
    codigo: o.C칩digo || o.Codigo || "",
    nombre: o.Nombre || "",
    precio: o.Precio1 || o.Precio || "",
    categoria: o.Categor칤a || o.Categoria || ""
  };
});
});
document.getElementById("q").addEventListener("input", ()=>{
  const k = norm(q.value);
  const res = document.getElementById("res");
  const empty = document.getElementById("emptyState");

  res.innerHTML = "";

  if(k.length === 0){
    empty.style.display = "block";
    return;
  }

  empty.style.display = "none";

  DATA
    .filter(x => norm(x.nombre).includes(k) || x.codigo.includes(k))
    .forEach(x=>{
      const d = document.createElement("div");
      d.className = "item";
      d.innerHTML = `
        <div class="code">${x.codigo}</div>
        <div class="name">${x.nombre}</div>
        <div class="price">$${x.precio}</div>
      `;
      res.appendChild(d);
    });
});
</script>

</body>
</html>
